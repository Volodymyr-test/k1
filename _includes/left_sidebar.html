<aside class="left_sidebar page_sidebar">
  <ul class="all_posts post_aside">
    <h2>Posts:</h2>
    {% for post in site.posts %}
    <li>
      <a href="{{post.url | absolute_url}}">{{post.title}}</a>
    </li>
    {% endfor %}
  </ul>

  <div class="post_aside post_by_tags hidden">
    <h2>Sorted by categories</h2>
    {% for tag in site.tags %}
    <h3>{{ tag[0] }}</h3>
    <ul>
      {% for post in tag[1] %}
      <li><a href="{{post.url | absolute_url}}">{{ post.title }}</a></li>
      {% endfor %}
    </ul>
    {% endfor %}
  </div>

  <div class="post_aside post_by_dates hidden">
    <h2>Categories</h2>
    {% for category in site.categories %}
    <h3>{{ category[0] }}</h3>
    <ul>
      {% for post in category[1] %}
      <li><a href="{{post.url | absolute_url}}">{{ post.title }}</a></li>
      {% endfor %}
    </ul>
    {% endfor %}
  </div>
  
  <div class="post_aside ">
    {%- if site.posts.size != 0 -%}
    {% assign posts = site.posts %}
    {% assign. last_post = posts | last %}
    {% assign. first_post = posts | first %}
    {% assign top_year = last_post.date | truncate: 4, '' %}
    {% assign bottom_year = first_post.date | truncate: 4, '' %}
    <h3>{{top_year}}, {{bottom_year}}</h3>
    <h2 class="post-list-heading">Posts list</h2>
    <ul class="post-list">
      {%- for post in site.posts -%}
      <li>
        <!-- <span class="post-meta">{{ post.date | date_to_string: date_format }}</span> -->
        <h3>
          <a class="post-link" href="{{post.url | absolute_url}}">
            {{ post.title | escape }}
          </a>
        </h3>
      </li>
      {%- endfor -%}
    </ul>
    {% endif %}
  </div>
</aside>